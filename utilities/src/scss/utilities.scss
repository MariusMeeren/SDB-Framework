/*******************/
/*  CSS Utilities  */
/*******************/

@use "palette" as *;
@use "flex" as *;
@use "columns" as *;
@use "typography" as *;
@use "grid" as *;
@use "cards" as *;
@use "charts" as *;
@use "media-query" as *;
@use "forms" as *;
@use "tables" as *;

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  /* Palette */
  @each $category, $color in $palette {
    @each $shade, $value in $color {
      --clr-#{$category}-#{$shade}: #{$value};
    }
  }

  /*****************/
  /* Font Families */
  /*****************/
  @each $family, $value in $typography {
    @if $family == "styles" {
    } @else {
      --font-#{$family}: "#{$family}", sans-serif;
    }
  }
}

/* Light Mode Input */
.text-input {
  display: block;
  width: 95%;
  height: 40px;
  padding: 10px;
  border-radius: 5px;
  background: var(--clr-light-primary-background);
  border: none;
  outline: none;
  color: #fff;
  font-size: 14px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.01);
}

/* Dark Mode Input */
[dark] .text-input {
  background: var(--clr-dark-primary-background);
}

.textarea {
  height: 150px;
}

.size-check {
  -webkit-appearance: none;
  width: 100px;
  height: 40px;
  border-radius: 5px;
  border: 3px solid var(--clr-light-primary-background);
  cursor: pointer;
  margin-bottom: 10px;
  margin-right: 10px;
  position: relative;
  color:var(--clr-light-primary-titles);
}

[dark] .size-check {
  border: 3px solid var(--clr-dark-primary-background);
  color:var(--clr-dark-primary-text);
}

.size-check::after {
  content: attr(value);
  position: absolute;
  top:50%;
  left:50%;
  transform: translate(-50%, -50%);
  font-size: 16px;
  text-transform: uppercase;
}

.size-check:checked {
  background-color: var(--clr-light-primary-background);
}

[dark] .size-check:checked {
  background-color: var(--clr-dark-primary-background);
}

/******************/
/* Typography CSS */
/******************/
@each $font, $props in $typography {
  @each $prop, $value in $props {
    @if $prop == "italic" {
      .#{$prop} {
        font-style: #{$value};
      }
    } @else if $prop == "uppercase" {
      .text-#{$prop} {
        text-transform: #{$value};
      }
    } @else {
      .text-#{"" + $prop} {
        font-weight: #{$value};
      }
    }
  }
}

/***************/
/* Flexbox CSS */
/***************/
@each $class, $prop in $flex-classes {
  @if #{$class} == flex {
    .#{$class} {
      @each $property, $value in $prop {
        #{$property}: #{$value};
      }
    }
  } @else if #{$class} == space-between {
    .#{$class} {
      @each $property, $value in $prop {
        #{$property}: #{$value};
      }
    }
  } @else {
    .#{$class} {
      @each $property, $value in $prop {
        #{$property}: #{$value};
      }
    }
  }
}

/***************/
/* Columns CSS */
/***************/
@each $class, $prop in $columns {
  .#{$class} {
    @each $property, $value in $prop {
      #{$property}: #{$value};
    }
  }
}

/************/
/* Grid CSS */
/************/
@each $class, $prop in $gridbox {
  @if #{$class} == grid {
    .#{$class} {
      @each $property, $value in $prop {
        #{$property}: #{$value};
      }
    }
  } @else {
    .grid-#{$class} {
      @each $property, $value in $prop {
        #{$property}: #{$value};
      }
    }
  }
}

/*********************/
/* Light Theme Cards */
/*********************/
@each $class, $prop in $lightcards {
  @if #{$class} == card {
    /* If parent card has a child card */
    .#{$class}-body > .#{$class} {
      background-color: var(--clr-light-primary-background);
    }
  }
  .#{$class} {
    @each $property, $value in $prop {
      #{$property}: #{$value};
    }
  }
}

/********************/
/* Dark Theme Cards */
/********************/
@each $class, $prop in $darkmode {
  @if #{$class} == card or #{$class} == card-body {
    /* If parent card has a child card */
    [dark] .#{$class}-body > .#{$class} {
      background-color: var(--clr-dark-primary-background);
    }
  }
  @if #{$class} == dark {
    [#{$class}] {
      @each $property, $value in $prop {
        #{$property}: #{$value};
      }
    }
  } @else {
    [dark] .#{$class} {
      @each $property, $value in $prop {
        #{$property}: #{$value};
      }
    }
  }
}

/*****************************/
/* Universal Card Properties */
/*****************************/
@each $class, $prop in $universalcards {
  .#{$class} {
    @each $property, $value in $prop {
      #{$property}: #{$value};
    }
  }
}

/**************/
/* Tables CSS */
/**************/
@each $class, $prop in $tables {
  @if #{$class} == darktd {
    [dark] .td {
      @each $property, $value in $prop {
        #{$property}: #{$value};
      }
    }
  }  @else if #{$class} == darktable {
    [dark] .table {
      @each $property, $value in $prop {
        #{$property}: #{$value};
      }
    } 
  } @else if #{$class} == darkthead {
    [dark] .thead {
      @each $property, $value in $prop {
        #{$property}: #{$value};
      }
    }
  } @else {
    .#{$class} {
      @each $property, $value in $prop {
        #{$property}: #{$value};
      }
    }
  }
}

/*************/
/* Forms CSS */
/*************/
@each $class, $prop in $forms {
  @if (str-index(#{$class}, "-dark")!=null) {
    // Remove -dark from #{$class}
    $replaced: str-replace($class, "-dark", "");
    [dark] #{$replaced} {
      @each $property, $value in $prop {
        #{$property}: #{$value};
      }
    }
  } @else {
    .#{$class} {
      @each $property, $value in $prop {
        #{$property}: #{$value};
      }
    }
  }
}

/*****************/
/* Media Queries */
/*****************/

/* Max-Width 65em */
@include mq(medium) {
  @each $class, $prop in $flex-classes {
    @each $property, $value in $prop {
      @if #{$class} == row {
        .#{$class} {
          #{$property}: column;
        }
      }
    }
  }

  @each $class, $prop in $columns {
    .#{$class} {
      @each $property, $value in $prop {
        #{$property}: 100%;
      }
    }
  }
}
/* Max-Width 40em */
@include mq(small) {
  @each $class, $prop in $flex-classes {
    @each $property, $value in $prop {
      @if #{$class} == row {
        .#{$class} {
          #{$property}: column;
        }
      }
    }
  }

  @each $class, $prop in $columns {
    .#{$class} {
      @each $property, $value in $prop {
        #{$property}: 100%;
      }
    }
  }
}

/**************/
/* Charts CSS */
/**************/

@each $class, $prop in $charts {
  .#{$class}-chart {
    @each $property, $value in $prop {
      #{$property}: #{$value};
    }
  }
}
